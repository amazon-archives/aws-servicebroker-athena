FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 python-boto && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions
COPY bin/16to62 /usr/bin/16to62
RUN chmod +x /usr/bin/16to62

LABEL "com.redhat.apb.spec"=\
"dmVyc2lvbjogMS4wCm5hbWU6IGF0aGVuYS1hcGIKZGVzY3JpcHRpb246ICdBdGhlbmEgVGFibGUn\
CnRhZ3M6CiAgLSBhbWF6b24KICAtIGF0aGVuYQpiaW5kYWJsZTogdHJ1ZQphc3luYzogb3B0aW9u\
YWwKbWV0YWRhdGE6CiAgZGlzcGxheU5hbWU6ICJBbWF6b24gQXRoZW5hIChBUEIpIgogIGltYWdl\
VXJsOiAiaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL3RocC1hd3MtaWNvbnMtZGV2L0FuYWx5dGlj\
c19BbWF6b25BdGhlbmFfTEFSR0UucG5nIgogIGxvbmdEZXNjcmlwdGlvbjogIkFtYXpvbiBBdGhl\
bmEgaXMgYW4gaW50ZXJhY3RpdmUgcXVlcnkgc2VydmljZSB0aGF0IG1ha2VzIGl0IGVhc3kgdG8g\
YW5hbHl6ZSBkYXRhIGluIEFtYXpvbiBTMyB1c2luZyBzdGFuZGFyZCBTUUwuIEF0aGVuYSBpcyBz\
ZXJ2ZXJsZXNzLCBzbyB0aGVyZSBpcyBubyBpbmZyYXN0cnVjdHVyZSB0byBtYW5hZ2UsIGFuZCB5\
b3UgcGF5IG9ubHkgZm9yIHRoZSBxdWVyaWVzIHRoYXQgeW91IHJ1bi4gQXRoZW5hIGlzIGVhc3kg\
dG8gdXNlLiBTaW1wbHkgcG9pbnQgdG8geW91ciBkYXRhIGluIEFtYXpvbiBTMywgZGVmaW5lIHRo\
ZSBzY2hlbWEsIGFuZCBzdGFydCBxdWVyeWluZyB1c2luZyBzdGFuZGFyZCBTUUwuIE1vc3QgcmVz\
dWx0cyBhcmUgZGVsaXZlcmVkIHdpdGhpbiBzZWNvbmRzLiBXaXRoIEF0aGVuYSwgdGhlcmXigJlz\
IG5vIG5lZWQgZm9yIGNvbXBsZXggRVRMIGpvYnMgdG8gcHJlcGFyZSB5b3VyIGRhdGEgZm9yIGFu\
YWx5c2lzLiBUaGlzIG1ha2VzIGl0IGVhc3kgZm9yIGFueW9uZSB3aXRoIFNRTCBza2lsbHMgdG8g\
cXVpY2tseSBhbmFseXplIGxhcmdlLXNjYWxlIGRhdGFzZXRzLiIKICBkb2N1bWVudGF0aW9uVXJs\
OiBodHRwczovL2F3cy5hbWF6b24uY29tL2RvY3VtZW50YXRpb24vYXRoZW5hLwogIHByb3ZpZGVy\
RGlzcGxheU5hbWU6ICJBbWF6b24gV2ViIFNlcnZpY2VzIgpwbGFuczoKICAtIG5hbWU6IGF0aGVu\
YS10YWJsZQogICAgZGVzY3JpcHRpb246ICdBdGhlbmEgVGFibGUnCiAgICBmcmVlOiBmYWxzZQog\
ICAgbWV0YWRhdGE6CiAgICAgIGRpc3BsYXlOYW1lOiAiQXRoZW5hIFRhYmxlIgogICAgICBsb25n\
RGVzY3JpcHRpb246ICJBbWF6b24gQXRoZW5hIGlzIGFuIGludGVyYWN0aXZlIHF1ZXJ5IHNlcnZp\
Y2UgdGhhdCBtYWtlcyBpdCBlYXN5IHRvIGFuYWx5emUgZGF0YSBpbiBBbWF6b24gUzMgdXNpbmcg\
c3RhbmRhcmQgU1FMLiBBdGhlbmEgaXMgc2VydmVybGVzcywgc28gdGhlcmUgaXMgbm8gaW5mcmFz\
dHJ1Y3R1cmUgdG8gbWFuYWdlLCBhbmQgeW91IHBheSBvbmx5IGZvciB0aGUgcXVlcmllcyB0aGF0\
IHlvdSBydW4uIEF0aGVuYSBpcyBlYXN5IHRvIHVzZS4gU2ltcGx5IHBvaW50IHRvIHlvdXIgZGF0\
YSBpbiBBbWF6b24gUzMsIGRlZmluZSB0aGUgc2NoZW1hLCBhbmQgc3RhcnQgcXVlcnlpbmcgdXNp\
bmcgc3RhbmRhcmQgU1FMLiBNb3N0IHJlc3VsdHMgYXJlIGRlbGl2ZXJlZCB3aXRoaW4gc2Vjb25k\
cy4gV2l0aCBBdGhlbmEsIHRoZXJl4oCZcyBubyBuZWVkIGZvciBjb21wbGV4IEVUTCBqb2JzIHRv\
IHByZXBhcmUgeW91ciBkYXRhIGZvciBhbmFseXNpcy4gVGhpcyBtYWtlcyBpdCBlYXN5IGZvciBh\
bnlvbmUgd2l0aCBTUUwgc2tpbGxzIHRvIHF1aWNrbHkgYW5hbHl6ZSBsYXJnZS1zY2FsZSBkYXRh\
c2V0cy4iCiAgICAgIGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0ZXJzOgogICAgICAjIyMjIyMjIyMj\
IyMjIyMKICAgICAgIyBBV1MgQWNjb3VudCBJbmZvcm1hdGlvbgogICAgICAjIyMjIyMjIyMjIyMj\
IyMKICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAg\
ICAgICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgQWNj\
ZXNzIEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmlu\
ZwogICAgICAgIGRpc3BsYXlfZ3JvdXA6IEFXUyBBY2NvdW50IEluZm9ybWF0aW9uCiAgICAgIC0g\
bmFtZTogYXdzX3NlY3JldF9rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxl\
OiBBV1MgU2VjcmV0IEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFNlY3JldCBLZXkgdG8g\
YXV0aGVudGljYXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBk\
aXNwbGF5X3R5cGU6IHBhc3N3b3JkCiAgICAgICAgZGlzcGxheV9ncm91cDogQVdTIEFjY291bnQg\
SW5mb3JtYXRpb24KICAgICAgLSBuYW1lOiBhd3NfY2xvdWRmb3JtYXRpb25fcm9sZV9hcm4KICAg\
ICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgQ2xvdWRmb3JtYXRpb24gcm9s\
ZSBBUk4KICAgICAgICBkZXNjcmlwdGlvbjogJ0lBTSByb2xlIEFSTiBmb3IgdXNlIGFzIENsb3Vk\
Zm9ybWF0aW9uIFN0YWNrIFJvbGUuJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRpc3Bs\
YXlfZ3JvdXA6IEFXUyBBY2NvdW50IEluZm9ybWF0aW9uCiAgICAgIC0gbmFtZTogcmVnaW9uCiAg\
ICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIFJlZ2lvbgogICAgICAgIGRl\
c2NyaXB0aW9uOiAnQVdTIFJlZ2lvbiB0aGUgc291cmNlIFMzIGJ1Y2tldCBpcyBpbi4nCiAgICAg\
ICAgdHlwZTogZW51bQogICAgICAgIGVudW06CiAgICAgICAgICAtIGFwLW5vcnRoZWFzdC0xCiAg\
ICAgICAgICAtIGFwLW5vcnRoZWFzdC0yCiAgICAgICAgICAtIGFwLXNvdXRoLTEKICAgICAgICAg\
IC0gYXAtc291dGhlYXN0LTEKICAgICAgICAgIC0gYXAtc291dGhlYXN0LTIKICAgICAgICAgIC0g\
Y2EtY2VudHJhbC0xCiAgICAgICAgICAtIGV1LWNlbnRyYWwtMQogICAgICAgICAgLSBldS13ZXN0\
LTEKICAgICAgICAgIC0gZXUtd2VzdC0yCiAgICAgICAgICAtIHNhLWVhc3QtMQogICAgICAgICAg\
LSB1cy1lYXN0LTEKICAgICAgICAgIC0gdXMtZWFzdC0yCiAgICAgICAgICAtIHVzLXdlc3QtMQog\
ICAgICAgICAgLSB1cy13ZXN0LTIKICAgICAgICBkZWZhdWx0OiAidXMtd2VzdC0yIgogICAgICAj\
IyMjIyMjIyMjIyMjIyMKICAgICAgIyBBdGhlbmEgU2V0dGluZ3MKICAgICAgIyMjIyMjIyMjIyMj\
IyMjCiAgICAgIC0gbmFtZTogUzNTb3VyY2UKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAg\
IHRpdGxlOiBTMyBTb3VyY2UgTG9jYXRpb24KICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBTMyBs\
b2NhdGlvbiBmb3IgdGhlIHNvdXJjZSBkYXRhLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAg\
ICBkaXNwbGF5X2dyb3VwOiBBdGhlbmEgU2V0dGluZ3MKICAgICAgLSBuYW1lOiBUYWJsZUNvbHVt\
bnMKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBUYWJsZSBDb2x1bW4gRGVm\
aW5pdGlvbgogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGNvbHVtbnMgYW5kIHRoZWlyIHR5cGVz\
IGluIHRoZSBmb3JtYXQ6IChjb2xfbmFtZSBkYXRhX3R5cGUgW0NPTU1FTlQgY29sX2NvbW1lbnRd\
IFssIC4uLl0gKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkaXNwbGF5X3R5cGU6IHRl\
eHRhcmVhCiAgICAgICAgZGlzcGxheV9ncm91cDogQXRoZW5hIFNldHRpbmdzCiAgICAgIC0gbmFt\
ZTogUm93Rm9ybWF0CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUm93IEZv\
cm1hdAogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHJvdyBmb3JtYXQgb2YgdGhlIHNvdXJjZSBk\
YXRhLicKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZW51bToKICAgICAgICAgIC0gREVMSU1J\
VEVECiAgICAgICAgICAtIFNFUkRFCiAgICAgICAgZGVmYXVsdDogREVMSU1JVEVECiAgICAgICAg\
ZGlzcGxheV9ncm91cDogQXRoZW5hIFNldHRpbmdzCiAgICAgIC0gbmFtZTogU2VyZGVOYW1lCiAg\
ICAgICAgdGl0bGU6IFNFUkRFIE5hbWUKICAgICAgICBkZXNjcmlwdGlvbjogJ1NFUkRFIE5hbWUs\
IG9ubHkgYXBwbGljYWJsZSBpZiAiUm93IEZvcm1hdCIgaXMgc2V0IHRvIFNFUkRFLicKICAgICAg\
ICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBTZXJkZVByb3BlcnRpZXMKICAgICAgICB0aXRs\
ZTogU0VSREUgUHJvcGVydGllcwogICAgICAgIGRlc2NyaXB0aW9uOiAnU0VSREUgUHJvcGVydGll\
cyBpbiB0aGUgZm9ybWF0ICgicHJvcGVydHlfbmFtZSIgPSAicHJvcGVydHlfdmFsdWUiLCAicHJv\
cGVydHlfbmFtZSIgPSAicHJvcGVydHlfdmFsdWUiIFssIC4uLl0gKS4gT25seSBhcHBsaWNhYmxl\
IGlmICJSb3cgRm9ybWF0IiBpcyBzZXQgdG8gU0VSREUuJwogICAgICAgIHR5cGU6IHN0cmluZwog\
ICAgICAgIGRpc3BsYXlfdHlwZTogdGV4dGFyZWEKICAgICAgICBkaXNwbGF5X2dyb3VwOiBBdGhl\
bmEgU2V0dGluZ3M="


USER apb
