version: 1.0
name: athena-apb
description: 'Athena Table'
tags:
  - amazon
  - athena
bindable: true
async: optional
metadata:
  displayName: "Amazon Athena (APB)"
  imageUrl: "https://s3.amazonaws.com/thp-aws-icons-dev/Analytics_AmazonAthena_LARGE.png"
  longDescription: "Amazon Athena is an interactive query service that makes it easy to analyze data in Amazon S3 using standard SQL. Athena is serverless, so there is no infrastructure to manage, and you pay only for the queries that you run. Athena is easy to use. Simply point to your data in Amazon S3, define the schema, and start querying using standard SQL. Most results are delivered within seconds. With Athena, there’s no need for complex ETL jobs to prepare your data for analysis. This makes it easy for anyone with SQL skills to quickly analyze large-scale datasets."
  documentationUrl: https://aws.amazon.com/documentation/athena/
  providerDisplayName: "Amazon Web Services"
plans:
  - name: athena-table
    description: 'Athena Table'
    free: false
    metadata:
      displayName: "Athena Table"
      longDescription: "Amazon Athena is an interactive query service that makes it easy to analyze data in Amazon S3 using standard SQL. Athena is serverless, so there is no infrastructure to manage, and you pay only for the queries that you run. Athena is easy to use. Simply point to your data in Amazon S3, define the schema, and start querying using standard SQL. Most results are delivered within seconds. With Athena, there’s no need for complex ETL jobs to prepare your data for analysis. This makes it easy for anyone with SQL skills to quickly analyze large-scale datasets."
      cost: $0.00
    parameters:
      ###############
      # AWS Account Information
      ###############
      - name: aws_access_key
        required: true
        title: AWS Access Key
        description: 'AWS Access Key to authenticate to AWS with.'
        type: string
        display_group: AWS Account Information
      - name: aws_secret_key
        required: true
        title: AWS Secret Key
        description: 'AWS Secret Key to authenticate to AWS with.'
        type: string
        display_type: password
        display_group: AWS Account Information
      - name: aws_cloudformation_role_arn
        required: true
        title: AWS Cloudformation role ARN
        description: 'IAM role ARN for use as Cloudformation Stack Role.'
        type: string
        display_group: AWS Account Information
      - name: region
        required: true
        title: AWS Region
        description: 'AWS Region the source S3 bucket is in.'
        type: enum
        enum:
          - ap-northeast-1
          - ap-northeast-2
          - ap-south-1
          - ap-southeast-1
          - ap-southeast-2
          - ca-central-1
          - eu-central-1
          - eu-west-1
          - eu-west-2
          - sa-east-1
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
        default: "us-west-2"
      ###############
      # Athena Settings
      ###############
      - name: S3Source
        required: true
        title: S3 Source Location
        description: 'The S3 location for the source data.'
        type: string
        display_group: Athena Settings
      - name: TableColumns
        required: true
        title: Table Column Definition
        description: 'The columns and their types in the format: (col_name data_type [COMMENT col_comment] [, ...] )'
        type: string
        display_type: textarea
        display_group: Athena Settings
      - name: RowFormat
        required: true
        title: Row Format
        description: 'The row format of the source data.'
        type: enum
        enum:
          - DELIMITED
          - SERDE
        default: DELIMITED
        display_group: Athena Settings
      - name: SerdeName
        title: SERDE Name
        description: 'SERDE Name, only applicable if "Row Format" is set to SERDE.'
        type: string
      - name: SerdeProperties
        title: SERDE Properties
        description: 'SERDE Properties in the format ("property_name" = "property_value", "property_name" = "property_value" [, ...] ). Only applicable if "Row Format" is set to SERDE.'
        type: string
        display_type: textarea
        display_group: Athena Settings